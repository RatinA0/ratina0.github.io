---
import type { Project } from '~/types';
import { fetchProjects } from '~/utils/project';

export async function getStaticPaths() {
  return (await fetchProjects()).map((project) => ({
    params: {
      version: 'version/' + project.permalink,
    },
    props: { project: project },
  }));
}

export interface Props {
  project: Project;
}

const { project } = Astro.props;
---

<span id="version">
  version={project.versions?.at(0)?.release}
</span>
